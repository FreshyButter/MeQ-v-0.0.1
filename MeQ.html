<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MeQ (Math-Equation)</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600&display=swap');

body { 
  font-family: "Kanit", sans-serif;
  margin:0;
  padding:0; 
  background: linear-gradient(135deg,#e0eafc,#cfdef3); 
  color:#2d3e50; 
  transition:0.5s;
}

body.dark { 
  background: linear-gradient(135deg,#1e293b,#334155); 
  color:#fff;
}

#themeToggle { 
  position: fixed;
  top:20px; 
  right:25px; 
  font-size:30px; 
  background:none; 
  border:none; 
  cursor:pointer; 
  color:inherit; 
  transition: transform 0.3s;
}
#themeToggle:hover { 
  transform: rotate(15deg);
}

/* ‡∏™‡πà‡∏ß‡∏ô‡∏´‡∏±‡∏ß‡∏Ç‡∏≠‡∏á‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏°‡∏ô‡∏π */
.flex-container { 
  display:flex; 
  align-items:center; 
  justify-content:space-between; 
  padding:40px 80px; 
  flex-wrap:wrap;
}

/* ‡∏î‡πâ‡∏≤‡∏ô‡∏ã‡πâ‡∏≤‡∏¢ = ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡∏° + ‡∏õ‡∏∏‡πà‡∏° */
.left-section {
  display:flex;
  flex-direction:column;
  align-items:flex-start;
  gap:20px;
  max-width:50%;
}

.game-title {
  font-size: 2.2em;
  margin: 0;
}

/* ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π */
.menu-buttons { 
  display:flex; 
  flex-direction:row; 
  gap:40px; 
}

button { 
  padding:16px 30px; 
  font-size:20px; 
  border-radius:15px; 
  border:none; 
  background-color:#6ca0dc; 
  color:white; 
  cursor:pointer; 
  transition:0.25s; 
  font-family: "Kanit", sans-serif;
  font-weight: 500;
}

button:hover { 
  background-color:#5a8ccc; 
  transform: scale(1.05); 
}

/* ‡πÇ‡∏•‡πÇ‡∏Å‡πâ‡∏î‡πâ‡∏≤‡∏ô‡∏Ç‡∏ß‡∏≤ */
img.logo { 
  width:350px; 
  border-radius:20px; 
  box-shadow:0 4px 10px rgba(0,0,0,0.2); 
}

/* ‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï */
.credits-grid { 
  display:grid; 
  grid-template-columns:repeat(2,1fr); 
  gap:30px; 
  justify-items:center; 
  max-width:600px; 
  margin:20px auto; 
}
.credits-item { text-align:center; }
.credits-item img { 
  width:140px; 
  border-radius:50%; 
  box-shadow:0 3px 10px rgba(0,0,0,0.2); 
  margin-bottom:8px; 
}

/* ‡πÄ‡∏°‡∏ô‡∏π‡πÄ‡∏Å‡∏° */
#gameMenuContainer { 
  max-width:500px; 
  margin:50px auto; 
  text-align:center; 
}
select, input[type="number"] { 
  font-size:20px; 
  padding:8px 12px; 
  margin:10px 0; 
  border-radius:10px; 
  border:2px solid #ddd; 
  transition:0.3s; 
}
select:hover, input:hover { 
  border-color:#6ca0dc; 
}

/* ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Å‡∏° */
#gameContainer { 
  max-width:700px; 
  margin:30px auto; 
  text-align:center; 
}
#gameContainer img { 
  max-width:100%; 
  max-height:400px; 
  border-radius:15px; 
  box-shadow:0 4px 10px rgba(0,0,0,0.1); 
  background:white; 
  padding:15px; 
  transition:0.5s; 
}

body.dark img { background:#3b4555; }
body.dark button { background-color:#64748b; }
body.dark button:hover { background-color:#94a3b8; }

#progress, #timer { 
  font-size:22px; 
  margin:15px 0; 
  font-weight:bold; 
}

#creditsPage h1 {
  text-align: center;
  margin-top: 30px;
}
</style>
</head>
<body>
<button id="themeToggle" title="‡∏™‡∏•‡∏±‡∏ö‡πÇ‡∏´‡∏°‡∏î">üåû</button>

<!-- ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å -->
<div id="mainMenu">
  <div class="flex-container">
    <div class="left-section">
      <h1 class="game-title">MeQ (‡πÄ‡∏Å‡∏°‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏î‡πâ‡∏≤‡∏ô‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå)</h1>
      <div class="menu-buttons">
        <button onclick="showGameMenu()">‡πÄ‡∏•‡πà‡∏ô</button>
        <button onclick="showCreditsPage()">‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï</button>
      </div>
    </div>
    <img src="MeQimages/logo.jpg" alt="Logo" class="logo">
  </div>
</div>

<!-- ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï -->
<div id="creditsPage" style="display:none;">
  <h1>‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏ó‡∏≥</h1>
  <div class="credits-grid">
    <div class="credits-item"><img src="MeQimages/dev1.png" alt=""><br>‡∏à‡∏¥‡∏£‡∏≤‡∏ò‡∏¥‡∏õ ‡∏ô‡∏∏‡∏ä‡∏ô‡∏∏‡πà‡∏° ‡∏°.3/2 1<br>‡∏ú‡∏π‡πâ‡∏Ñ‡∏¥‡∏î‡∏Ñ‡πâ‡∏ô‡πÅ‡∏•‡∏∞‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏Å‡∏ï‡∏¥‡∏Å‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô</div>
    <div class="credits-item"><img src="MeQimages/dev2.png" alt=""><br>‡∏ô‡∏ô‡∏ó‡πå‡∏õ‡∏ß‡∏¥‡∏ò ‡πÇ‡∏≠‡∏†‡∏≤‡∏™ ‡∏°.3/2 6<br>‡∏ú‡∏π‡πâ‡πÄ‡∏™‡∏ô‡∏≠‡πÅ‡∏ô‡∏ß‡∏Ñ‡∏¥‡∏î‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÇ‡∏Ñ‡∏£‡∏á‡∏á‡∏≤‡∏ô‡∏ô‡∏µ‡πâ</div>
    <div class="credits-item"><img src="MeQimages/dev3.png" alt=""><br>‡∏†‡∏≤‡∏ì‡∏∏‡∏ß‡∏¥‡∏ä‡∏ç‡πå ‡∏ï‡∏ß‡∏á‡∏™‡∏∏‡∏ß‡∏£‡∏£‡∏ì ‡∏°.3/2 8<br>‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏™‡∏£‡∏£‡∏´‡∏≤‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏õ‡∏±‡∏ç‡∏´‡∏≤</div>
    <div class="credits-item"><img src="MeQimages/dev4.png" alt=""><br>‡∏≠‡∏≤‡∏ó‡∏¥‡∏†‡∏≤‡∏Å‡∏£ ‡∏ó‡∏¥‡∏û‡∏¢‡πå‡∏ô‡∏û‡∏Ñ‡∏∏‡∏ì ‡∏°.3/2 15<br>‡∏ú‡∏π‡πâ‡∏•‡∏á‡∏°‡∏∑‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÅ‡∏•‡∏∞‡∏ö‡∏≠‡∏£‡πå‡∏î‡πÄ‡∏Å‡∏°</div>
  </div>
  <button onclick="backToMenu()">‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π</button>
</div>

<!-- ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏°‡∏ô‡∏π‡πÄ‡∏Å‡∏° -->
<div id="gameMenuPage" style="display:none;">
  <div id="gameMenuContainer">
    <h1>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å</h1>
    <label>‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å:</label><br>
    <select id="difficulty">
      <option value="easy">‡∏á‡πà‡∏≤‡∏¢</option>
      <option value="medium">‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á</option>
      <option value="hard">‡∏¢‡∏≤‡∏Å</option>
      <option value="mixed">‡∏™‡∏∏‡πà‡∏°</option>
    </select>
    <br>
    <label>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°:</label><br>
    <input type="number" id="numQuestions" value="3" min="1">
    <br>
    <button onclick="showGamePage()">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°</button>
    <button onclick="backToMenu()">‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π</button>
  </div>
</div>

<!-- ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Å‡∏° -->
<div id="gamePage" style="display:none;">
  <div id="gameContainer">
    <div id="progress">‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà 1/3</div>
    <div id="timer">‡πÄ‡∏ß‡∏•‡∏≤: 03:00</div>
    <div id="question"><img id="questionImg" src=""></div>
    <div id="answer" style="display:none;"><img id="answerImg" src=""></div>
    <div id="controls">
      <button id="showAnswerBtn" onclick="showAnswer()">‡∏î‡∏π‡πÄ‡∏â‡∏•‡∏¢</button>
      <button id="nextBtn" onclick="nextQuestion()" style="display:none;">‡πÑ‡∏õ‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</button>
      <button onclick="backToMenu()">‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π</button>
    </div>
  </div>
</div>

<script>
const themeBtn=document.getElementById('themeToggle');
themeBtn.addEventListener('click',()=>{
  document.body.classList.toggle('dark');
  themeBtn.textContent=document.body.classList.contains('dark')?'üåô':'üåû';
});

function hideAll(){
  document.getElementById('mainMenu').style.display='none';
  document.getElementById('creditsPage').style.display='none';
  document.getElementById('gameMenuPage').style.display='none';
  document.getElementById('gamePage').style.display='none';
}

function backToMenu(){
  hideAll(); 
  document.getElementById('mainMenu').style.display='block'; 
  clearInterval(timerInterval);
}

function showCreditsPage(){
  hideAll(); 
  document.getElementById('creditsPage').style.display='block';
}

function showGameMenu(){
  hideAll(); 
  document.getElementById('gameMenuPage').style.display='block';
}

let current=0,total=0,shuffled=[],timer=180,timerInterval=null;

// ‡πÇ‡∏à‡∏ó‡∏¢‡πå‡πÄ‡∏â‡∏û‡∏≤‡∏∞ "‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå"
const questionSets={
  easy:[
    {q:"MeQimages/math/easy/q1.png",a:"MeQimages/math/easy/a1.png"},
    {q:"MeQimages/math/easy/q2.png",a:"MeQimages/math/easy/a2.png"},
    {q:"MeQimages/math/easy/q3.png",a:"MeQimages/math/easy/a3.png"}
  ],
  medium:[
    {q:"MeQimages/math/medium/q1.png",a:"MeQimages/math/medium/a1.png"},
    {q:"MeQimages/math/medium/q2.png",a:"MeQimages/math/medium/a2.png"},
    {q:"MeQimages/math/medium/q3.png",a:"MeQimages/math/medium/a3.png"}
  ],
  hard:[
    {q:"MeQimages/math/hard/q1.png",a:"MeQimages/math/hard/a1.png"},
    {q:"MeQimages/math/hard/q2.png",a:"MeQimages/math/hard/a2.png"},
    {q:"MeQimages/math/hard/q3.png",a:"MeQimages/math/hard/a3.png"}
  ]
};

function showGamePage(){
  hideAll();
  document.getElementById('gamePage').style.display='block';
  total=parseInt(document.getElementById('numQuestions').value);
  let difficulty=document.getElementById('difficulty').value;

  let pool=[];
  if(difficulty==='mixed'){
    pool=[...questionSets.easy,...questionSets.medium,...questionSets.hard];
  } else {
    pool=questionSets[difficulty];
  }

  shuffled=shuffle(pool).slice(0,total);
  current=0;
  nextQuestion();
}

function shuffle(array){
  for(let i=array.length-1;i>0;i--){
    const j=Math.floor(Math.random()*(i+1));
    [array[i],array[j]]=[array[j],array[i]];
  }
  return array;
}

function startTimer(){
  clearInterval(timerInterval);
  timer=180;
  updateTimerDisplay();
  timerInterval=setInterval(()=>{
    timer--;
    updateTimerDisplay();
    if(timer<=0){
      clearInterval(timerInterval);
      alert("‚è∞ ‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤!");
      showAnswer(true);
    }
  },1000);
}

function updateTimerDisplay(){
  let minutes=Math.floor(timer/60);
  let seconds=timer%60;
  document.getElementById('timer').textContent=`‡πÄ‡∏ß‡∏•‡∏≤: ${minutes.toString().padStart(2,'0')}:${seconds.toString().padStart(2,'0')}`;
}

function nextQuestion(){
  if(current>=total){
    clearInterval(timerInterval); 
    alert(`üéâ ‡∏à‡∏ö‡πÄ‡∏Å‡∏°!`);
    backToMenu();
    return;
  }
  const q=shuffled[current];
  document.getElementById('questionImg').src=q.q;
  document.getElementById('question').style.display='block';
  document.getElementById('answer').style.display='none';
  document.getElementById('showAnswerBtn').style.display='inline-block';
  document.getElementById('nextBtn').style.display='none';
  document.getElementById('progress').textContent=`‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà ${current+1}/${total}`;
  startTimer();
}

function showAnswer(fromTimer=false){
  const q=shuffled[current];
  document.getElementById('answerImg').src=q.a;
  document.getElementById('question').style.display='none';
  document.getElementById('answer').style.display='block';
  document.getElementById('showAnswerBtn').style.display='none';
  document.getElementById('nextBtn').style.display='inline-block';
  clearInterval(timerInterval);
  if(!fromTimer) current++;
}
</script>
</body>
</html>
